<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Portafolio de Daniel: Dise√±o Gr√°fico, Animaci√≥n, Videojuegos y Software"
    />
    <title>Daniel | Portafolio Creativo</title>
    <link rel="icon" type="image/x-icon" href="assets/LG.png" />
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body>
    <!-- üîê Animaci√≥n de entrada -->
    <div class="intro-overlay" id="introOverlay">
      <div class="puerta">
        <div class="cierre"></div>
      </div>
    </div>

    <!-- üåÄ Hero de entrada -->
    <section class="hero" id="inicio">
      <!-- Imagen de fondo -->
      <img src="assets/FG_006.png" alt="Fondo principal" />
      <div class="filtro-oscuro"></div>

      <!-- Cuadro de texto con la frase -->
      <div class="frase-hero">
        <!-- ‚ÄúAc√° entre nos... Quiero que sepas la verdad.‚Äù -->
        ‚ÄúCon preparaci√≥n y disciplina somos amos de nuestro destino‚Äù
      </div>

      <!-- Imagen flotante del personaje, ahora FUERA del cuadro de texto -->
      <img
        class="personaje-flotante"
        src="assets/characters/VCT.png"
        alt="Personaje flotante"
      />
      <a href="#desarrollo3d" class="arrow">‚¨áÔ∏è</a>
    </section>

    <header>
      <div class="nombre-container">
        <img
          src="assets/LG.png"
          alt="Logo personal"
          class="logo"
          id="logoMetyd"
          onclick="toggleMenu()"
          title="Abrir men√∫"
        />
        <div class="nombre-estilo">
          <span class="nombre">Daniel</span>
          <span class="apellido">Contreras</span>
        </div>
      </div>

      <nav class="nav-desktop">
        <ul>
          <li><a href="#desarrollo3d">Dise√±o Gr√°fico / Animaci√≥n</a></li>
          <li><a href="#dibujo">Ilustraci√≥n</a></li>
          <li><a href="#videojuegos">Videojuegos</a></li>
          <li><a href="#software">Software</a></li>
          <li><a href="#contacto">Contacto</a></li>
        </ul>
      </nav>
    </header>

    <!-- Men√∫ lateral m√≥vil -->
    <div class="sidebar" id="mobileMenu">
      <ul>
        <li>
          <a href="#desarrollo3d" onclick="closeMenu()"
            >Dise√±o Gr√°fico / Animaci√≥n</a
          >
        </li>
        <li><a href="#dibujo" onclick="closeMenu()">Ilustraci√≥n</a></li>
        <li><a href="#videojuegos" onclick="closeMenu()">Videojuegos</a></li>
        <li><a href="#software" onclick="closeMenu()">Software</a></li>
        <li><a href="#contacto" onclick="closeMenu()">Contacto</a></li>
      </ul>
    </div>

    <!-- üîΩ Secciones verticales -->
    <main>
      <section class="section animada" id="desarrollo3d">
        <h2>Dise√±o Gr√°fico / Animaci√≥n</h2>
        <div class="galeria">
          <!-- Im√°genes aqu√≠ -->
        </div>
        <div class="selector-personajes">
          <h3>Selecciona un personaje</h3>

          <div class="selector-contenido-principal">
            <!-- üßæ Panel de informaci√≥n a la izquierda -->
            <div class="info-personaje">
              <div class="icono-wrapper"></div>

              <div class="datos-personaje">
                <h4 id="nombrePersonaje">Nombre</h4>
                <p id="juegoPersonaje">Universo:</p>
                <p id="descripcionPersonaje">Descripci√≥n:</p>
              </div>
            </div>

            <!-- üé• Render y controles en columna -->
            <div class="visor-y-controles">
              <img
                id="modeloPersonaje"
                src="assets/renders/personaje1_00.png"
                alt="Render rotativo"
              />
              <div class="rotador-botones-container">
                <button class="boton-rotador" onclick="rotar(-1)">‚¨ÖÔ∏è</button>
                <button class="boton-rotador" onclick="rotar(1)">‚û°Ô∏è</button>
              </div>
            </div>
          </div>

          <!-- üñ±Ô∏è Scroll horizontal -->
          <div class="personajes-lista">
            <img
              src="assets/thumbnails/personaje1.png"
              onclick="mostrarPersonaje('personaje1')"
            />
            <img
              src="assets/thumbnails/personaje2.png"
              onclick="mostrarPersonaje('personaje2')"
            />
            <img
              src="assets/thumbnails/personaje3.png"
              onclick="mostrarPersonaje('personaje3')"
            />
            <img
              src="assets/thumbnails/personaje4.png"
              onclick="mostrarPersonaje('personaje4')"
            />
            <img
              src="assets/thumbnails/personaje5.png"
              onclick="mostrarPersonaje('personaje5')"
            />
            <img
              src="assets/thumbnails/personaje6.png"
              onclick="mostrarPersonaje('personaje6')"
            />
            <img
              src="assets/thumbnails/personaje7.png"
              onclick="mostrarPersonaje('personaje7')"
            />
            <img
              src="assets/thumbnails/personaje8.png"
              onclick="mostrarPersonaje('personaje8')"
            />
            <img
              src="assets/thumbnails/personaje9.png"
              onclick="mostrarPersonaje('personaje9')"
            />
            <img
              src="assets/thumbnails/personaje10.png"
              onclick="mostrarPersonaje('personaje10')"
            />
            <img
              src="assets/thumbnails/personaje11.png"
              onclick="mostrarPersonaje('personaje11')"
            />
            <img
              src="assets/thumbnails/personaje12.png"
              onclick="mostrarPersonaje('personaje12')"
            />
          </div>
        </div>
      </section>

      <section class="section animada" id="dibujo">
        <h2>Ilustraci√≥n</h2>
        <div class="galeria">
          <!-- Dibujos o sketchbooks -->
        </div>
      </section>

      <section class="section animada" id="videojuegos">
        <h2>Videojuegos</h2>

        <div class="layout-juegos">
          <button class="flecha flecha-izquierda" onclick="cambiarJuego(-1)">
            ‚¨ÖÔ∏è
          </button>

          <div class="contenedor-juego">
            <div class="panel-info">
              <img id="iconoJuego" src="..." alt="Icono del juego" />
              <h4 id="tituloJuego">T√≠tulo</h4>
              <p id="descripcionJuego">Descripci√≥n del juego actual</p>
            </div>

            <div class="panel-juego">
              <iframe id="iframeJuego" src="..." allowfullscreen></iframe>
            </div>
          </div>

          <button class="flecha flecha-derecha" onclick="cambiarJuego(1)">
            ‚û°Ô∏è
          </button>
        </div>
      </section>

      <section class="section animada" id="software">
        <h2>Software</h2>
        <div id="demo-interactiva">
          <!-- Demo aqu√≠ -->
        </div>
      </section>

      <section id="contacto">
        <!-- <section class="section animada" id="contacto"> -->
        <h2>Contacto</h2>
        <form>
          <input type="text" placeholder="Tu nombre" required />
          <input type="email" placeholder="Tu correo" required />
          <textarea placeholder="Tu mensaje"></textarea>
          <button type="submit">Enviar</button>
        </form>
      </section>
    </main>

    <footer>
      <p>¬© 2025 Daniel. Todos los derechos reservados.</p>
    </footer>

    <!-- üéØ Script para el efecto de blur y zoom -->
    <script>
      window.addEventListener("scroll", () => {
        const heroImg = document.querySelector(".hero img");
        if (window.scrollY > 50) {
          heroImg.style.filter = "blur(8px) brightness(0.8) saturate(1.2)";
          heroImg.style.transform = "scale(1.05)";
        } else {
          heroImg.style.filter = "none";
          heroImg.style.transform = "scale(1)";
        }
      });
    </script>
    <script>
      function toggleMenu() {
        // Solo activar en pantallas peque√±as
        if (window.innerWidth > 768) return;

        const menu = document.getElementById("mobileMenu");
        const logo = document.getElementById("logoMetyd");

        menu.classList.toggle("open");

        if (menu.classList.contains("open")) {
          logo.classList.add("logo-transformada");
        } else {
          logo.classList.remove("logo-transformada");
        }
      }

      function closeMenu() {
        const menu = document.getElementById("mobileMenu");
        const logo = document.getElementById("logoMetyd");

        menu.classList.remove("open");
        logo.classList.remove("logo-transformada");
      }
    </script>
    <script>
      document.querySelectorAll('a[href^="#"]').forEach((link) => {
        link.addEventListener("click", () => {
          const menu = document.getElementById("mobileMenu");
          const logo = document.getElementById("logoMetyd");
          if (menu.classList.contains("open")) {
            menu.classList.remove("open");
            logo.classList.remove("logo-transformada");
          }
        });
      });
    </script>

    <script>
      window.addEventListener("DOMContentLoaded", () => {
        setTimeout(() => {
          const overlay = document.getElementById("introOverlay");
          overlay.style.display = "none";
        }, 2100); // espera a que termine animaci√≥n

        // Forzar un reflow para asegurar que todos los elementos de la lista de personajes se rendericen
        const personajesLista = document.querySelector(".personajes-lista");
        if (personajesLista) {
          // Acceder a offsetWidth fuerza al navegador a recalcular el layout
          personajesLista.offsetWidth;
        }

        // Mostrar el primer personaje al cargar la p√°gina
        mostrarPersonaje("personaje1");
      });
    </script>
    <script>
      // üß† Datos informativos por personaje
      const datosPersonajes = {
        personaje1: {
          nombre: "Nexus-01",
          universo: "Metyd Prime",
          thumbnail: "assets/thumbnails/personaje1.png",
          descripcion:
            "Unidad sint√©tica dise√±ada para mapear emociones humanas. Comanda protocolos de defensa y an√°lisis existencial.",
        },
        personaje2: {
          nombre: "Zaira",
          universo: "Orbital 9",
          thumbnail: "assets/thumbnails/personaje2.png",
          descripcion:
            "Agente psi√≥nica con habilidades de reconexi√≥n neural. Habita el borde entre la realidad y el impulso cu√°ntico.",
        },
        personaje3: {
          nombre: "Aegon",
          universo: "Fragmenta",
          thumbnail: "assets/thumbnails/personaje3.png",
          descripcion:
            "Guardi√°n del colapso dimensional. Porta un n√∫cleo fragmentado que alberga memorias prohibidas de antiguos universos.",
        },
        personaje4: {
          nombre: "Kael",
          universo: "Cenit",
          thumbnail: "assets/thumbnails/personaje4.png",
          descripcion:
            "Explorador de dimensiones paralelas. Su armadura se adapta a cualquier entorno, fusion√°ndose con la energ√≠a del lugar.",
        },
        personaje5: {
          nombre: "Lyra",
          universo: "Ecos de Silencio",
          thumbnail: "assets/thumbnails/personaje5.png",
          descripcion:
            "Cantante de las estrellas, sus melod√≠as pueden alterar la realidad. Busca los fragmentos de una canci√≥n olvidada.",
        },
        personaje6: {
          nombre: "Roric",
          universo: "Las Criptas de Hierro",
          thumbnail: "assets/thumbnails/personaje6.png",
          descripcion:
            "Guerrero forjado en el coraz√≥n de un volc√°n. Su fuerza es legendaria y su temperamento, explosivo.",
        },
        personaje7: {
          nombre: "Seraphina",
          universo: "El Jard√≠n Et√©reo",
          thumbnail: "assets/thumbnails/personaje7.png",
          descripcion:
            "Custodia de la flora c√≥smica. Cada flor que cultiva tiene propiedades √∫nicas y un secreto ancestral.",
        },
        personaje8: {
          nombre: "Jax",
          universo: "Distrito Cero",
          thumbnail: "assets/thumbnails/personaje8.png",
          descripcion:
            "Hacker y vigilante de la red. Sus implantes cibern√©ticos le permiten navegar por el ciberespacio a velocidades inimaginables.",
        },
        personaje9: {
          nombre: "Elara",
          universo: "Cr√≥nicas de la Luna Roja",
          thumbnail: "assets/thumbnails/personaje9.png",
          descripcion:
            "Arquera m√≠stica, sus flechas nunca fallan su objetivo. Protege un antiguo bosque de las sombras.",
        },
        personaje10: {
          nombre: "Volkov",
          universo: "Tierras Congeladas",
          thumbnail: "assets/thumbnails/personaje10.png",
          descripcion:
            "Cazador solitario de las tundras heladas. Su lealtad es inquebrantable y su punter√≠a, letal.",
        },
        personaje11: {
          nombre: "Anya",
          universo: "El Reino de los Susurros",
          thumbnail: "assets/thumbnails/personaje11.png",
          descripcion:
            "Hechicera de los sue√±os, puede entrar en las mentes de otros. Busca un artefacto que le otorgue control total.",
        },
        personaje12: {
          nombre: "Drakon",
          universo: "Las Profundidades Abisales",
          thumbnail: "assets/thumbnails/personaje12.png",
          descripcion:
            "Criatura marina legendaria, guardi√°n de los tesoros hundidos. Su aliento puede invocar tormentas.",
        },
      };

      let personajeActual = "personaje1";
      let anguloActual = 0;
      const totalAngulos = 10;

      function mostrarPersonaje(nombre) {
        personajeActual = nombre;
        anguloActual = 0;
        actualizarRender();

        // Actualizar panel informativo
        const datos = datosPersonajes[nombre];
        document.getElementById("nombrePersonaje").textContent = datos.nombre;
        document.getElementById(
          "juegoPersonaje"
        ).textContent = `${datos.universo}`;
        document.getElementById(
          "descripcionPersonaje"
        ).textContent = `${datos.descripcion}`;

        // Resetear clases en √≠conos del listado
        document.querySelectorAll(".personajes-lista img").forEach((img) => {
          img.classList.remove("activo", "oculto");
        });

        // Ocultar √≠cono original y mostrar flotante
        const thumbnails = document.querySelectorAll(".personajes-lista img");
        thumbnails.forEach((img) => {
          // Obtener el valor exacto del nombre del personaje desde el atributo onclick
          const onclickAttr = img.getAttribute("onclick");
          const regex = /mostrarPersonaje\('([^']+)'\)/;
          const match = onclickAttr.match(regex);

          // Verificar si hay una coincidencia y si el nombre extra√≠do coincide exactamente
          if (match && match[1] === nombre) {
            // La miniatura activa debe permanecer visible en la lista,
            // solo se le a√±ade la clase 'activo' para resaltarla.
            img.classList.add("activo", "oculto");
            mostrarIconoEnPanel(datos.thumbnail);
          }
        });
      }

      // üéØ Rotar personaje dentro del visor
      function rotar(direccion) {
        anguloActual += direccion;
        if (anguloActual < 0) anguloActual = 0;
        if (anguloActual >= totalAngulos) anguloActual = totalAngulos - 1;
        actualizarRender();
      }

      // üé® Actualizar imagen del render rotativo
      function actualizarRender() {
        const angulo = String(anguloActual).padStart(2, "0");
        const ruta = `assets/renders/${personajeActual}_${angulo}.png`;
        const render = document.getElementById("modeloPersonaje");

        render.src = ruta;
        render.classList.add("pulsando");
        render.classList.add("iluminando");

        setTimeout(() => {
          render.classList.remove("pulsando");
          render.classList.remove("iluminando");
        }, 600);

        console.log(`Mostrando: ${personajeActual}_${angulo}`);
      }

      // üß¨ Mostrar √≠cono flotante sobre el panel informativo
      function mostrarIconoEnPanel(src) {
        const wrapper = document.querySelector(".icono-wrapper");
        const anterior = document.querySelector(".icono-activo");
        if (anterior) anterior.remove();

        const icono = document.createElement("img");
        icono.src = src;
        icono.classList.add("icono-activo");
        wrapper.appendChild(icono);
      }

      window.addEventListener("DOMContentLoaded", () => {
        setTimeout(() => {
          const overlay = document.getElementById("introOverlay");
          overlay.style.display = "none";
        }, 2100); // espera a que termine animaci√≥n

        // Forzar un reflow para asegurar que todos los elementos de la lista de personajes se rendericen
        const personajesLista = document.querySelector(".personajes-lista");
        if (personajesLista) {
          // Acceder a offsetWidth fuerza al navegador a recalcular el layout
          personajesLista.offsetWidth; // Esta es la l√≠nea que fuerza el reflow
          mostrarPersonaje("personaje1");
        }

        // Mostrar el primer personaje al cargar la p√°gina
        mostrarPersonaje("personaje1");
      });
    </script>
    <script>
      const secciones = document.querySelectorAll(".section");

      const observer = new IntersectionObserver(
        (entradas) => {
          entradas.forEach((entrada) => {
            if (entrada.isIntersecting) {
              entrada.target.classList.add("mostrar");
            } else {
              entrada.target.classList.remove("mostrar"); // ‚ö° Aqu√≠ est√° el "ocultar"
            }
          });
        },
        {
          threshold: 0.15, // porcentaje de visibilidad que activa el efecto
        }
      );

      secciones.forEach((seccion) => {
        observer.observe(seccion);
      });
    </script>

    <script>
      const juegos = [
        {
          titulo: "Shoot",
          descripcion: "Lo suficientemente adictivo.",
          icono: "assets/games/shoot.png",
          url: "games/shoot/index.html",
        },
        {
          titulo: "ProtoMetyd",
          descripcion: "Versi√≥n prototipo del universo Metyd",
          icono: "assets/games/protometyd.png",
          url: "games/metyd/index.html",
        },
        // m√°s juegos...
      ];

      let juegoActual = 0;

      // Funci√≥n para mostrar un juego por √≠ndice
      function mostrarJuego(indice) {
        const juego = juegos[indice];
        const iframe = document.getElementById("iframeJuego");
        const icono = document.getElementById("iconoJuego");
        const titulo = document.getElementById("tituloJuego");
        const descripcion = document.getElementById("descripcionJuego");

        // Actualizar informaci√≥n
        icono.src = juego.icono;
        titulo.textContent = juego.titulo;
        descripcion.textContent = juego.descripcion;

        // Reiniciar iframe
        iframe.src = "";
        setTimeout(() => {
          iframe.src = juego.url;

          // üí° Efecto de iluminaci√≥n
          const iframeWrapper = document.querySelector(".iframe-wrapper");
          iframeWrapper.classList.add("iluminando");
          setTimeout(() => {
            iframeWrapper.classList.remove("iluminando");
          }, 600);
        }, 100);
      }

      // Funci√≥n para cambiar de juego con flechas
      function cambiarJuego(direccion) {
        const contenedor = document.querySelector(".contenedor-juego");

        // üîÑ Animaci√≥n de fade-out
        contenedor.style.opacity = "0";

        setTimeout(() => {
          juegoActual =
            (juegoActual + direccion + juegos.length) % juegos.length;

          mostrarJuego(juegoActual);

          // üîÑ Recuperar visibilidad
          contenedor.style.opacity = "1";
        }, 400);
      }

      // Mostrar juego inicial al cargar
      window.addEventListener("DOMContentLoaded", () => {
        const contenedorJuegos = document.querySelector(".contenedor-juego");
        if (contenedorJuegos) {
          contenedorJuegos.offsetWidth;
        }
        mostrarJuego(0);
      });
    </script>
  </body>
</html>
