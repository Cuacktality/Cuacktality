/* ================================
   ‚ú® FUENTES PERSONALIZADAS
================================ */
@font-face {
  font-family: "Symtext";
  src: url("../fonts/Symtext.woff2") format("woff2"),
    url("../fonts/Symtext.woff") format("woff"),
    url("../fonts/Symtext.ttf") format("truetype");
  font-display: swap; /* Mejora la carga de fuentes */
}

@font-face {
  font-family: "Stanberry";
  src: url("../fonts/Stanberry.woff2") format("woff2"),
    url("../fonts/Stanberry.woff") format("woff"),
    url("../fonts/Stanberry.ttf") format("truetype");
  font-display: swap; /* Mejora la carga de fuentes */
}

/* ================================
 üåå RESET Y ESTILOS BASE
================================ */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  scroll-padding-top: 80px; /* Ajuste para el header fijo */
}

body {
  font-family: "Stanberry", sans-serif;
  background-color: #111;
  color: #f0f0f0;
  line-height: 1.6; /* Propiedad a√±adida para mejor legibilidad */
  overflow-x: visible !important;
  overscroll-behavior-y: contain;
}

html,
body {
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
}

a {
  text-decoration: none;
  color: inherit; /* Propiedad a√±adida para que los enlaces hereden el color */
}

.section {
  opacity: 0;
  transform: translateZ(-120px) scale(0.8) rotateX(6deg);
  filter: blur(20px);
  transition: opacity 0.6s ease, transform 0.6s ease, filter 0.8s ease;
  will-change: opacity, transform, filter;
}

.section.mostrar {
  opacity: 1;
  transform: translateZ(0px) scale(1) rotateX(0deg);
  filter: blur(0px);
}

.section::before {
  opacity: 0;
  transform: scale(1.2);
  filter: blur(25px);
  transition: opacity 0.8s ease, transform 0.8s ease, filter 0.8s ease;
  will-change: opacity, transform, filter;
}

.section.mostrar::before {
  opacity: 0.6;
  transform: scale(1);
  filter: blur(10px);
}

.section.mostrar h2 {
  animation: fadeInTitle 0.2s ease forwards;
}

@keyframes fadeInTitle {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}
/* ================================
 üåÄ HERO
================================ */
.hero {
  display: flex; /* A√±adido para centrar el contenido */
  align-items: center; /* A√±adido para centrar el contenido */
  justify-content: center; /* A√±adido para centrar el contenido */

  position: relative;
  height: 100vh;
  /*overflow: visible; /* permite que el personaje se muestre completo */
  overflow: hidden;
}

.hero img {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: -1;
  transition: filter 0.6s ease, transform 0.6s ease;
}

.frase-hero {
  animation: fadeInHero 2s ease-out forwards;
  position: absolute;
  top: 20%;
  left: 50%;
  transform: translateX(-50%);

  max-width: 90%;
  width: 460px;

  backdrop-filter: blur(4px);
  background-color: rgba(40, 40, 40, 0.4);
  padding: 1em 1.5em;

  font-size: 1rem;
  font-family: "Stanberry", sans-serif;
  color: #aebaf6;
  text-align: center;

  opacity: 0;
  z-index: 7;
}

@keyframes fadeInHero {
  to {
    opacity: 1;
  }
}

.arrow {
  position: absolute;
  left: 50%;
  bottom: 40px;
  transform: translateX(-50%);
  font-size: 2.5rem;
  color: #93d0f9;
  animation: bounce 1.5s infinite;
  text-decoration: none;
  z-index: 10;
  display: block; /* Asegura que la flecha sea un bloque para el posicionamiento */
}

.filtro-oscuro {
  position: absolute;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.55); /* Ajusta la opacidad */
  z-index: -1;
}

.personaje-flotante {
  position: absolute;
  bottom: -190px;
  left: 50%;
  transform: translateX(-50%);

  height: auto;
  width: auto;
  max-width: 95vh; /* limita el ancho en pantallas grandes */
  max-height: 95vh; /* limita la altura para evitar cortes */

  object-fit: contain;
  z-index: 6;
}
@keyframes fadeInHero {
  0% {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}
@keyframes entrada-flotante {
  0% {
    transform: translateX(-50%) translateY(100px);
    opacity: 0;
  }
  100% {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
  }
}

/* Flotaci√≥n suave */
@keyframes flotar {
  0%,
  100% {
    transform: translateX(-50%) translateY(0);
  }
  50% {
    transform: translateX(-50%) translateY(-10px);
  }
}

@keyframes bounce {
  0%,
  100% {
    transform: translateX(-50%) translateY(0);
  }
  50% {
    transform: translateX(-50%) translateY(-10px);
  }
}

/* ================================
 üöÄ HEADER
================================ */
header {
  position: fixed;
  top: 0;
  width: 100%;
  height: 60px;
  background: rgba(0, 0, 0, 0.85);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 1.5rem;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5); /* Sombra a√±adida */
}

.nombre-container {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.logo {
  width: 40px;
  height: 40px;
  object-fit: contain;
  transition: transform 0.4s ease;
  cursor: pointer;
  z-index: 1001;
}

.logo-transformada {
  transform: rotate(90deg) scale(0.8);
  filter: brightness(1.2);
  box-shadow: none;
}

.nombre-estilo {
  display: flex;
  flex-direction: column;
  line-height: 1.1;
}

.nombre {
  font-family: "Symtext", sans-serif;
  font-size: 1.6rem;
  color: #93bff9;
}

.apellido {
  font-family: "Symtext", sans-serif;
  font-size: 1rem;
  color: #ee9b3c;
  /* color: #7164a1; */
  opacity: 0.8;
  letter-spacing: 1px;
}

/* ================================
 üåê NAVEGACI√ìN
================================ */
nav ul {
  list-style: none;
  display: flex;
  gap: 1.5rem; /* Espacio entre elementos de navegaci√≥n ajustado */
}

nav ul li a {
  color: #93bff9;
  text-decoration: none;
  font-weight: bold;
  transition: color 0.3s ease, transform 0.3s ease; /* Transici√≥n de transformaci√≥n a√±adida */
  padding: 0.5rem 0.2rem; /* Padding ajustado */
  position: relative; /* Para el pseudo-elemento after */
}

nav ul li a:hover {
  color: #fff;
  transform: translateY(-2px); /* Efecto de elevaci√≥n al pasar el rat√≥n */
}

nav ul li a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -5px;
  width: 0;
  height: 2px;
  background-color: #aebaf6;
  /* background-color: #aebaf6; */
  transition: width 0.3s ease;
}

nav ul li a:hover::after {
  width: 100%;
}

/* ================================
 ‚ò∞ MEN√ö HAMBURGUESA Y LATERAL
================================ */
.hamburguesa {
  display: none;
  font-size: 2rem;
  color: #93bff9;
  cursor: pointer;
  z-index: 1001;
  background: none; /* Fondo transparente */
  border: none; /* Sin borde */
  padding: 0.2rem; /* Padding ajustado */
}

.sidebar {
  position: fixed;
  top: 60px;
  right: -100%;
  width: 70%;
  max-width: 300px;
  height: calc(100% - 60px); /* Altura ajustada al header */
  background: linear-gradient(
    to bottom,
    rgba(20, 20, 25, 0.95),
    rgba(10, 10, 15, 0.98)
  );
  backdrop-filter: blur(6px);
  transition: right 0.5s ease, opacity 0.5s ease;
  opacity: 0;
  z-index: 999;
  padding: 2rem 1.5rem; /* Padding ajustado */
  box-shadow: -4px 0 15px rgba(0, 255, 255, 0.3); /* Sombra ajustada */
  display: flex; /* A√±adido para flexbox */
  flex-direction: column; /* A√±adido para flexbox */
  align-items: flex-start; /* A√±adido para flexbox */
}

.sidebar.open {
  right: 0;
  opacity: 1;
}

.sidebar::after {
  content: "";
  position: absolute;
  top: 0;
  left: -4px;
  width: 2px;
  height: 100%;
  background: linear-gradient(to bottom, #93bff9, #aebaf6);
  animation: pulsoBarra 4s infinite ease-in-out;
}

@keyframes pulsoBarra {
  0%,
  100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.8;
  }
}

.sidebar ul {
  list-style: none;
  display: flex;
  flex-direction: column;
  gap: 1.5rem; /* Espacio ajustado */
  width: 100%; /* Ocupa todo el ancho */
}

.sidebar ul li {
  opacity: 0;
  transform: translateX(20px);
  animation: fadeIn 0.5s forwards;
  animation-delay: calc(var(--i) * 0.1s);
}

.sidebar ul li a {
  color: #aebaf6;
  text-decoration: none;
  font-size: 1.3rem; /* Tama√±o de fuente ajustado */
  display: block; /* Para que ocupe todo el ancho del li */
  padding: 0.5rem 0; /* Padding ajustado */
  transition: color 0.3s ease, transform 0.3s ease; /* Transici√≥n de transformaci√≥n a√±adida */
}

.sidebar ul li a:hover {
  color: #93bff9; /* Color ajustado al pasar el rat√≥n */
  transform: translateX(5px); /* Efecto de deslizamiento */
}

@keyframes fadeIn {
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* ================================
 üìÑ SECCIONES
================================ */
main section {
  position: relative;
  padding: 120px 5% 80px;
  min-height: 100vh;
  color: #fff;
  overflow: hidden;
}

h2 {
  font-family: "Symtext", sans-serif;
  font-size: 2em;
  margin-bottom: 1rem;
}

/* ================================
 üñºÔ∏è FONDOS BLUR DIFERENCIADOS
================================ */
main section::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  backdrop-filter: blur(10px);
  background-color: rgba(17, 17, 17, 0.4);
  z-index: -1;
}

/* ================================
 üå´Ô∏è FONDOS BLUR INDIVIDUALES
================================ */

#diseno-animacion,
#dibujo,
#videojuegos,
#software {
  position: relative;
  z-index: 0;
  overflow: hidden;
}

/* Contenedor de proyectos general (para Dise√±o y Ilustraci√≥n) */
.contenedor-proyectos {
  display: grid;
  grid-template-columns: 0.8fr 2fr; /* Columna para lista y columna para contenido */
  gap: 2rem;
  margin-top: 2rem;
  padding: 2rem;
  background-color: rgba(0, 0, 0, 0.5);
  border-radius: 16px;
  backdrop-filter: blur(6px);
  box-shadow: 0 0 30px rgba(147, 249, 185, 0.2);
  max-width: 1200px;
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  overflow-x: visible;
  align-items: stretch;
}

/* Estilo para el listado de proyectos (similar a WinForms ListBox) */
.listado-proyectos {
  background-color: rgba(255, 255, 255, 0.05);
  border: 1px solid #93bff9;
  border-radius: 8px;
  padding: 1rem;
  height: 100%;
  overflow-y: auto;
  scrollbar-width: thin;
  scrollbar-color: #aebaf6 transparent;
}

.listado-proyectos h3 {
  font-family: "Symtext", sans-serif;
  font-size: 1.3rem;
  color: #f0f0f0;
  margin-bottom: 1rem;
  opacity: 0.85;
  text-align: center;
}

.listado-proyectos ul {
  list-style: none;
  padding: 0;
}

.listado-proyectos .proyecto-item {
  padding: 0.6rem 0.8rem;
  margin-bottom: 0.3rem;
  cursor: pointer;
  border-radius: 6px;
  transition: background-color 0.2s ease, box-shadow 0.2s ease;
  color: #f0f0f0;
  position: relative;
  overflow: hidden;
}

.listado-proyectos .proyecto-item:hover {
  background-color: rgba(147, 249, 185, 0.1);
  box-shadow: 0 0 8px rgba(147, 249, 185, 0.3);
}

.listado-proyectos .proyecto-item.activo {
  background-color: #aebaf6;
  color: #111;
  font-weight: bold;
  box-shadow: 0 0 15px rgba(174, 187, 246, 0.7);
  border: 1px solid #93bff9;
}

.listado-proyectos .proyecto-item.activo::before {
  content: "‚û°Ô∏è ";
  position: absolute;
  left: 5px;
  top: 50%;
  transform: translateY(-50%);
  color: #111;
  font-size: 1.2em;
}

.listado-proyectos .proyecto-item .proyecto-nombre {
  display: block;
  font-size: 1.1em;
  margin-left: 20px;
}

.listado-proyectos .proyecto-item .proyecto-subtitulo-lista {
  display: block;
  font-size: 0.85em;
  color: rgba(240, 240, 240, 0.7);
  margin-left: 20px;
  margin-top: 0.2em;
}

.listado-proyectos .proyecto-item.activo .proyecto-subtitulo-lista {
  color: rgba(17, 17, 17, 0.7);
}

/* Contenido del proyecto seleccionado (para Dise√±o) */
.contenido-proyecto {
  display: grid;
  grid-template-areas:
    "info visor"
    "elementos elementos";
  grid-template-columns: 1.2fr 1fr;
  gap: 2rem;
  align-items: start;
  margin-bottom: 2rem;
  height: 100%;
  align-items: stretch;
  background-color: rgba(255, 255, 255, 0.03);
  padding: 1.5rem;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(147, 249, 185, 0.08);
}

.info-proyecto {
  grid-area: info;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 1rem;
  background-color: rgba(255, 255, 255, 0.03);
  border-radius: 12px;
  box-shadow: 0 0 12px rgba(147, 249, 185, 0.06);
}

.info-proyecto .icono-wrapper {
  width: 110px;
  height: 110px;
  margin-bottom: 1rem;
}

#iconoPersonaje {
  width: 100%;
  height: 100%;
  object-fit: contain;
  border-radius: 50%;
  box-shadow: 0 0 10px rgba(147, 249, 185, 0.4);
  animation: salto 0.5s ease-out forwards;
}

.datos-personaje {
  color: #93bff9;
  font-size: 1rem;
  line-height: 1.6;
  width: 100%;
  text-align: left;
}

.datos-personaje h4 {
  font-size: 1.6rem;
  margin-bottom: 0.5rem;
}

.datos-personaje p {
  font-size: 1rem;
  margin-bottom: 0.6rem;
}

#subtituloPersonaje {
  margin-bottom: 1.2rem;
}

.habilidades-list ul {
  list-style: none;
  padding: 0;
  margin-top: 1rem;
  font-size: 0.9em;
  color: #b0c4de;
}

.habilidades-list li {
  margin-bottom: 0.3rem;
  padding-left: 1.2em;
  position: relative;
}

.habilidades-list li::before {
  content: "‚Ä¢";
  color: #93bff9;
  position: absolute;
  left: 0;
}

.visor-elementos {
  grid-area: visor;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: rgba(255, 255, 255, 0.03);
  border-radius: 10px;
  box-shadow: 0 0 20px rgba(147, 249, 185, 0.08);
  padding: 1rem;
}

#modeloPersonaje {
  width: 250px;
  height: 250px;
  object-fit: contain;
  border-radius: 10px;
  transition: opacity 0.4s ease, transform 0.3s ease;
}

#modeloPersonaje:hover {
  transform: scale(1.02);
}

.nombre-elemento-visor {
  font-size: 1.1rem;
  color: #93bff9;
  margin-top: 0.5rem;
  text-align: center;
}

.navegacion-elementos {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 1rem;
}

.boton-rotador {
  font-size: 2.5rem;
  background: none;
  border: none;
  color: #93bff9;
  cursor: pointer;
  transition: transform 0.2s ease, color 0.2s ease;
}

.boton-rotador:hover {
  transform: scale(1.2);
  color: #aebaf6;
}

.listado-elementos-proyecto {
  grid-area: elementos;
  background-color: rgba(255, 255, 255, 0.02);
  padding: 0.5rem;
  border-radius: 10px;
  box-shadow: inset 0 0 10px rgba(147, 249, 185, 0.05);
  display: flex;
  flex-direction: row;
  overflow-x: auto;
  overflow-y: hidden;
  white-space: nowrap;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #93bff9 transparent;
}

#thumbnailsPersonajes {
  display: flex;
  flex-direction: row;
  gap: 1.5rem;
  padding-bottom: 0.5rem;
  overflow-y: visible;
  scroll-snap-type: x mandatory;
  align-items: center;
}

.thumbnail-personaje {
  width: 100px;
  height: 100px;
  object-fit: contain;
  border-radius: 50%;
  cursor: pointer;
  border: 2px solid transparent;
  box-sizing: border-box;
  transition: transform 0.3s, box-shadow 0.3s;
  flex-shrink: 0;
  scroll-snap-align: center;
}

.thumbnail-personaje:hover {
  transform: scale(1.05);
  box-shadow: 0 0 10px #93bff9;
  border-color: #93bff9;
}

.thumbnail-personaje.activo {
  border: 2px solid #93bff9;
  box-shadow: 0 0 15px rgba(147, 249, 185, 0.7);
}

/* ================================
 üñºÔ∏è SECCI√ìN ILUSTRACI√ìN (NUEVOS ESTILOS)
================================ */
#dibujo::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: url("../assets/fondoDibujo.jpg"); /* Fondo de ilustraci√≥n */
  background-size: cover;
  background-position: center;
  filter: blur(10px);
  opacity: 0.6;
  z-index: -2;
}

.contenido-proyecto-ilustracion {
  display: grid;
  grid-template-areas:
    "visor"
    "info";
  grid-template-rows: 2fr 1fr; /* Visor ocupa m√°s espacio que la info */
  gap: 2rem;
  align-items: start;
  margin-bottom: 2rem;
  height: 100%;
  align-items: stretch;
  background-color: rgba(255, 255, 255, 0.03);
  padding: 1.5rem;
  border-radius: 12px;
  box-shadow: 0 0 15px rgba(147, 249, 185, 0.08);
}

.visor-ilustracion {
  grid-area: visor;
  position: relative; /* Para posicionar las cartas */
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.2); /* Fondo sutil para el visor */
  border-radius: 10px;
  box-shadow: inset 0 0 15px rgba(147, 249, 185, 0.1);
  aspect-ratio: 4 / 3; /* Fixed aspect ratio for consistent size */
  overflow: hidden; /* Para contener las cartas */
}

.ilustracion-card-stack {
  position: absolute;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  perspective: 1000px; /* Para el efecto 3D */
  z-index: 1; /* Lower z-index than the main illustration */
}

.ilustracion-card {
  position: absolute;
  width: 250px; /* Tama√±o de las cartas */
  height: 350px;
  background-color: #222;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.5s ease-out, opacity 0.5s ease-out,
    box-shadow 0.3s ease;
  cursor: pointer; /* Change cursor for clickable cards */
  border: 2px solid transparent;
  pointer-events: auto; /* Make background cards interactive */
}

.ilustracion-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 8px;
}

.ilustracion-card.prev-1 {
  transform: translateX(-150px) rotateY(15deg) scale(0.8); /* Adjust translateX and scale */
  opacity: 0.4; /* More opaque for closer cards */
  z-index: 4;
}
.ilustracion-card.prev-2 {
  transform: translateX(-250px) rotateY(25deg) scale(0.7); /* Adjust translateX and scale */
  opacity: 0.2; /* Less opaque for further cards */
  z-index: 3;
}

.ilustracion-card.next-1 {
  transform: translateX(150px) rotateY(-15deg) scale(0.8); /* Adjust translateX and scale */
  opacity: 0.4;
  z-index: 4;
}
.ilustracion-card.next-2 {
  transform: translateX(250px) rotateY(-25deg) scale(0.7); /* Adjust translateX and scale */
  opacity: 0.2;
  z-index: 3;
}

/* Main illustration styling */
.ilustracion-principal {
  position: absolute;
  width: 300px; /* Standard size for the main image */
  height: 400px;
  object-fit: contain; /* Ensure image fits */
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(147, 249, 185, 0.6); /* Prominent shadow */
  border: 2px solid #93bff9; /* Border for the main image */
  z-index: 10; /* Ensure it's on top */
  cursor: pointer; /* Indicate it's clickable */
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.ilustracion-principal:hover {
  transform: scale(1.02);
  box-shadow: 0 15px 40px rgba(147, 249, 185, 0.8);
}

.ilustracion-principal.pulse-active {
  animation: quickPulse 0.3s ease-out;
}

@keyframes quickPulse {
  0% {
    transform: scale(0.98);
    opacity: 0.8;
  }
  50% {
    transform: scale(1.02);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.ilustracion-card.hidden {
  opacity: 0;
  transform: scale(0.7);
  pointer-events: none; /* No interactuable */
}

.info-ilustracion {
  grid-area: info;
  display: flex;
  flex-direction: column;
  align-items: flex-end; /* Alinear a la derecha */
  text-align: right; /* Justificar texto a la derecha */
  padding: 1rem;
  background-color: rgba(255, 255, 255, 0.03);
  border-radius: 12px;
  box-shadow: 0 0 12px rgba(147, 249, 185, 0.06);
}

.info-ilustracion h4 {
  font-size: 1.6rem;
  margin-bottom: 0.5rem;
  color: #93bff9;
}

.info-ilustracion p {
  font-size: 1rem;
  line-height: 1.6;
  margin-bottom: 0.6rem;
  color: #f0f0f0;
}

.descripcion-justificada {
  text-align: justify; /* Justificar el texto */
}

/* ================================
 üí° LIGHTBOX GLOBAL
================================ */
.lightbox-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8); /* Fondo oscuro */
  backdrop-filter: blur(8px); /* Efecto blur */
  z-index: 2000;
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transform: scaleY(0); /* Start closed for blinds effect */
  transform-origin: center center;
  transition: transform 0.3s ease-out, backdrop-filter 0.3s ease,
    opacity 0.3s ease, visibility 0.3s ease; /* Faster transition */
}

.lightbox-overlay.active {
  opacity: 1;
  visibility: visible;
  transform: scaleY(1); /* Open blinds */
}

.lightbox-content {
  /* Removed background, padding, shadows for a more integrated look */
  background-color: transparent;
  padding: 0;
  border-radius: 0;
  box-shadow: none;

  /* Grid layout for large screens */
  display: grid;
  grid-template-columns: 0.2fr 2fr 1fr 0.2fr; /* More space for image, less for info, empty columns for padding */
  grid-template-rows: auto 1fr auto; /* Close button row, Content row, Nav row */
  grid-template-areas:
    ". . close-btn ."
    ". image info ."
    ". nav nav ."; /* Arrows span full width at bottom */
  gap: 2rem; /* Gap between image and info */
  align-items: center; /* Center vertically within grid cells */
  justify-items: center; /* Center horizontally within grid cells */
  max-width: 90vw;
  max-height: 90vh;
  overflow: auto; /* Keep scroll for content */
  transform: none; /* Remove previous scaling animation */
  opacity: 1; /* Keep visible once overlay is active */
  transition: none; /* Remove previous transition */

  /* Custom scrollbar for lightbox content */
  scrollbar-width: thin;
  scrollbar-color: #93bff9 transparent;
}

.lightbox-content::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}
.lightbox-content::-webkit-scrollbar-track {
  background: transparent;
}
.lightbox-content::-webkit-scrollbar-thumb {
  background: linear-gradient(to right, #93bff9, #aebaf6);
  border-radius: 4px;
  box-shadow: 0 0 6px rgba(147, 249, 185, 0.4);
}
.lightbox-content::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to right, #aebaf6, #93bff9);
}

.lightbox-close {
  grid-area: close-btn;
  position: absolute; /* Absolute positioning within overlay */
  top: 10px;
  right: 10px;
  background: none;
  border: none;
  font-size: 2.5rem; /* Slightly larger for emoji */
  color: #93bff9;
  cursor: pointer;
  transition: transform 0.2s ease, color 0.2s ease;
  z-index: 2002; /* Higher z-index to be on top */
}

.lightbox-close:hover {
  transform: rotate(90deg) scale(1.1);
  color: #fff;
}

.lightbox-image {
  grid-area: image;
  max-width: 100%;
  max-height: 100%; /* Allow image to fill grid area */
  width: auto; /* Allow natural width */
  height: auto; /* Allow natural height */
  object-fit: contain;
  border-radius: 10px;
  box-shadow: 0 0 15px rgba(174, 187, 246, 0.5);
  margin-bottom: 0; /* Remove margin-bottom */
  justify-self: center; /* Center horizontally within its grid cell */
  align-self: center; /* Center vertically within its grid cell */
}

.lightbox-nav {
  grid-area: nav;
  display: flex;
  justify-content: center; /* Center arrows at the bottom */
  gap: 2rem;
  margin-top: 1rem; /* Add margin from info/image */
  width: 100%; /* Ensure it spans the grid area */
}

.lightbox-arrow {
  background: none;
  border: none;
  font-size: 2.5rem;
  color: #93bff9;
  cursor: pointer;
  transition: transform 0.2s ease, color 0.2s ease;
}

.lightbox-arrow:hover {
  transform: scale(1.1);
  color: #fff;
}

.lightbox-info {
  grid-area: info;
  text-align: right; /* Keep justified right */
  align-items: flex-end; /* Keep aligned to flex-end */
  margin-top: 0; /* Remove margin-top */
  padding-right: 1rem; /* Add some padding to the right */
}

.lightbox-info h4 {
  font-size: 1.5rem; /* Slightly smaller */
  color: #aebaf6;
  margin-bottom: 0.5rem;
}

.lightbox-info p {
  font-size: 0.9rem; /* Slightly smaller */
  color: #f0f0f0;
  line-height: 1.5;
}

/* Responsive for Lightbox */
@media (max-width: 768px) {
  .lightbox-content {
    grid-template-columns: 1fr; /* Single column for mobile */
    grid-template-rows: auto auto auto auto;
    grid-template-areas:
      "close-btn"
      "image"
      "info"
      "nav";
    gap: 1rem;
    padding: 1rem;
  }

  .lightbox-close {
    position: static; /* Reset to static for grid flow */
    justify-self: end; /* Align to the right within its grid area */
    align-self: start;
    margin-bottom: 0; /* Remove negative margin */
  }

  .lightbox-image {
    max-height: 50vh;
  }

  .lightbox-info {
    text-align: justify; /* Keep justified for mobile */
    align-items: center; /* Center align for mobile */
    padding-right: 0; /* Remove padding */
  }
}

/* New animation for card click in illustration section */
.ilustracion-card-stack.scroll-left {
  animation: scrollLeftAnimation 0.3s ease-out forwards;
}

.ilustracion-card-stack.scroll-right {
  animation: scrollRightAnimation 0.3s ease-out forwards;
}

@keyframes scrollLeftAnimation {
  0% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(-20px);
  } /* Brief movement to the left */
  100% {
    transform: translateX(0);
  }
}

@keyframes scrollRightAnimation {
  0% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(20px);
  } /* Brief movement to the right */
  100% {
    transform: translateX(0);
  }
}
